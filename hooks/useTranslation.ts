
import { useMemo } from 'react';
import { useAppContext } from './useAppContext';

const translations: Record<string, Record<string, string>> = {
  en: {
    dashboard: 'Dashboard',
    pos: 'Point of Sale',
    inventory: 'Inventory',
    purchases: 'Purchases',
    logistics: 'Logistics',
    accounting: 'Accounting',
    reports: 'Reports',
    settings: 'Settings',
    totalRevenue: 'Total Revenue',
    creditManagement: 'Credit Management',
    consignment: 'Consignment',
    billing: 'Billing',
    checkout: 'Checkout',
    paymentGateways: 'Payment Gateways',
    transactions: 'Transactions',
    templates: 'Templates',
    maintenance: 'Maintenance',
    accessManagement: 'Access Management',
    profile: 'Profile',
    auditLogs: 'Audit Logs',
    depositmanagement: 'Deposit Management',
  },
  es: {
    dashboard: 'Tablero',
    pos: 'Punto de Venta',
    inventory: 'Inventario',
    purchases: 'Compras',
    logistics: 'Logística',
    accounting: 'Contabilidad',
    reports: 'Informes',
    settings: 'Ajustes',
    totalRevenue: 'Ingresos Totales',
    creditManagement: 'Gestión de Crédito',
    consignment: 'Consignación',
    billing: 'Facturación',
    checkout: 'Pagar',
    paymentGateways: 'Pasarelas de Pago',
    transactions: 'Transacciones',
    templates: 'Plantillas',
    maintenance: 'Mantenimiento',
    accessManagement: 'Gestión de Acceso',
    profile: 'Perfil',
    auditLogs: 'Registros de Auditoría',
    depositmanagement: 'Gestión de Depósitos',
  },
  fr: {
    dashboard: 'Tableau de Bord',
    pos: 'Point de Vente',
    inventory: 'Inventaire',
    purchases: 'Achats',
    logistics: 'Logistique',
    accounting: 'Comptabilité',
    reports: 'Rapports',
    settings: 'Paramètres',
    totalRevenue: 'Revenu Total',
    creditManagement: 'Gestion de Crédit',
    consignment: 'Consignation',
    billing: 'Facturation',
    checkout: 'Paiement',
    paymentGateways: 'Passerelles de Paiement',
    transactions: 'Transactions',
    templates: 'Modèles',
    maintenance: 'Maintenance',
    accessManagement: 'Gestion d\'accès',
    profile: 'Profil',
    auditLogs: 'Journaux d\'audit',
    depositmanagement: 'Gestion des Dépôts',
  },
  de: {
    dashboard: 'Dashboard',
    pos: 'Verkaufsstelle',
    inventory: 'Inventar',
    purchases: 'Einkäufe',
    logistics: 'Logistik',
    accounting: 'Buchhaltung',
    reports: 'Berichte',
    settings: 'Einstellungen',
    totalRevenue: 'Gesamtumsatz',
    creditManagement: 'Kreditverwaltung',
    consignment: 'Konsignation',
    billing: 'Abrechnung',
    checkout: 'Kasse',
    paymentGateways: 'Zahlungsgateways',
    transactions: 'Transaktionen',
    templates: 'Vorlagen',
    maintenance: 'Wartung',
    accessManagement: 'Zugriffsverwaltung',
    profile: 'Profil',
    auditLogs: 'Audit-Protokolle',
    depositmanagement: 'Einlagenverwaltung',
  },
  it: {
    dashboard: 'Cruscotto',
    pos: 'Punto Vendita',
    inventory: 'Inventario',
    purchases: 'Acquisti',
    logistics: 'Logistica',
    accounting: 'Contabilità',
    reports: 'Rapporti',
    settings: 'Impostazioni',
    totalRevenue: 'Entrate Totali',
    creditManagement: 'Gestione Crediti',
    consignment: 'Spedizione',
    billing: 'Fatturazione',
    checkout: 'Cassa',
    paymentGateways: 'Gateway di Pagamento',
    transactions: 'Transazioni',
    templates: 'Modelli',
    maintenance: 'Manutenzione',
    accessManagement: 'Gestione Accessi',
    profile: 'Profilo',
    auditLogs: 'Log di Audit',
    depositmanagement: 'Gestione Depositi',
  },
  pt: {
    dashboard: 'Painel',
    pos: 'Ponto de Venda',
    inventory: 'Inventário',
    purchases: 'Compras',
    logistics: 'Logística',
    accounting: 'Contabilidade',
    reports: 'Relatórios',
    settings: 'Configurações',
    totalRevenue: 'Receita Total',
    creditManagement: 'Gerenciamento de Crédito',
    consignment: 'Consignação',
    billing: 'Faturamento',
    checkout: 'Caixa',
    paymentGateways: 'Gateways de Pagamento',
    transactions: 'Transações',
    templates: 'Modelos',
    maintenance: 'Manutenção',
    accessManagement: 'Gerenciamento de Acesso',
    profile: 'Perfil',
    auditLogs: 'Logs de Auditoria',
    depositmanagement: 'Gerenciamento de Depósitos',
  },
  ru: {
    dashboard: 'Панель управления',
    pos: 'Точка продаж',
    inventory: 'Инвентарь',
    purchases: 'Закупки',
    logistics: 'Логистика',
    accounting: 'Бухгалтерия',
    reports: 'Отчеты',
    settings: 'Настройки',
    totalRevenue: 'Общий доход',
    creditManagement: 'Управление кредитами',
    consignment: 'Консигнация',
    billing: 'Биллинг',
    checkout: 'Оплата',
    paymentGateways: 'Платежные шлюзы',
    transactions: 'Транзакции',
    templates: 'Шаблоны',
    maintenance: 'Техническое обслуживание',
    accessManagement: 'Управление доступом',
    profile: 'Профиль',
    auditLogs: 'Журналы аудита',
    depositmanagement: 'Управление депозитами',
  },
  zh: {
    dashboard: '仪表板',
    pos: '销售点',
    inventory: '库存',
    purchases: '采购',
    logistics: '后勤',
    accounting: '会计',
    reports: '报告',
    settings: '设置',
    totalRevenue: '总收入',
    creditManagement: '信用管理',
    consignment: '寄售',
    billing: '账单',
    checkout: '结账',
    paymentGateways: '支付网关',
    transactions: '交易',
    templates: '模板',
    maintenance: '维护',
    accessManagement: '访问管理',
    profile: '个人资料',
    auditLogs: '审计日志',
    depositmanagement: '存款管理',
  },
  ja: {
    dashboard: 'ダッシュボード',
    pos: '販売時点情報管理',
    inventory: '在庫',
    purchases: '購入',
    logistics: '物流',
    accounting: '会計',
    reports: 'レポート',
    settings: '設定',
    totalRevenue: '総収益',
    creditManagement: 'クレジット管理',
    consignment: '委託',
    billing: '請求',
    checkout: 'チェックアウト',
    paymentGateways: '支払いゲートウェイ',
    transactions: '取引',
    templates: 'テンプレート',
    maintenance: 'メンテナンス',
    accessManagement: 'アクセス管理',
    profile: 'プロフィール',
    auditLogs: '監査ログ',
    depositmanagement: '預金管理',
  },
  ko: {
    dashboard: '대시보드',
    pos: '판매 시점',
    inventory: '인벤토리',
    purchases: '구매',
    logistics: '물류',
    accounting: '회계',
    reports: '보고서',
    settings: '설정',
    totalRevenue: '총 수익',
    creditManagement: '신용 관리',
    consignment: '위탁',
    billing: '청구',
    checkout: '결제',
    paymentGateways: '결제 게이트웨이',
    transactions: '거래',
    templates: '템플릿',
    maintenance: '유지보수',
    accessManagement: '접근 관리',
    profile: '프로필',
    auditLogs: '감사 로그',
    depositmanagement: '예금 관리',
  },
  ar: {
    dashboard: 'لوحة القيادة',
    pos: 'نقطة البيع',
    inventory: 'المخزون',
    purchases: 'المشتريات',
    logistics: 'الخدمات اللوجستية',
    accounting: 'محاسبة',
    reports: 'التقارير',
    settings: 'الإعدادات',
    totalRevenue: 'إجمالي الإيرادات',
    creditManagement: 'إدارة الائتمان',
    consignment: 'شحنة',
    billing: 'الفواتير',
    checkout: 'الدفع',
    paymentGateways: 'بوابات الدفع',
    transactions: 'المعاملات',
    templates: 'القوالب',
    maintenance: 'صيانة',
    accessManagement: 'إدارة الوصول',
    profile: 'الملف الشخصي',
    auditLogs: 'سجلات المراجعة',
    depositmanagement: 'إدارة الودائع',
  },
  hi: {
    dashboard: 'डैशबोर्ड',
    pos: 'बिक्री केंद्र',
    inventory: 'सूची',
    purchases: 'खरीद',
    logistics: 'रसद',
    accounting: 'लेखांकन',
    reports: 'रिपोर्ट',
    settings: 'सेटिंग्स',
    totalRevenue: 'कुल राजस्व',
    creditManagement: 'क्रेडिट प्रबंधन',
    consignment: 'प्रेषण',
    billing: 'बिलिंग',
    checkout: 'चेक आउट',
    paymentGateways: 'भुगतान द्वार',
    transactions: 'लेनदेन',
    templates: 'टेम्पलेट्स',
    maintenance: 'रखरखाव',
    accessManagement: 'पहुंच प्रबंधन',
    profile: 'प्रोफ़ाइल',
    auditLogs: 'ऑडिट लॉग',
    depositmanagement: 'जमा प्रबंधन',
  }
};

export const useTranslation = () => {
  const { currentLanguage, setCurrentLanguage, systemSettings } = useAppContext();

  const t = (key: string): string => {
    const lowerKey = key.toLowerCase();
    return translations[currentLanguage]?.[lowerKey] || key;
  };
  
  const availableLanguages = useMemo(() => {
    return systemSettings.languages.filter(lang => lang.enabled);
  }, [systemSettings.languages]);

  return { t, currentLanguage, changeLanguage: setCurrentLanguage, availableLanguages };
};